<!DOCTYPE html>
<html>
<head>

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

  <link rel="stylesheet" href="style/style.css" />
  <link rel="stylesheet" href="style/metro-bootstrap.min.css" />
  <link rel="stylesheet" href="style/metro-bootstrap-responsive.min.css" />
  <link rel="stylesheet" href="https://eikospartners.github.io/scalejs-dev/build/app.css" />
  <script src="style/jquery.min.js"></script>
  <script src="style/jquery.ui.widget.js"></script>
  <script src="style/metro.min.js"></script>
  <link rel="stylesheet" href="highlight.css" />

  <meta name="generator" content="DocPad v6.79.0" />
  

  <style>
        .header {
            height: 45px;
        }
        #content {
            overflow-y: scroll;
            padding-right: 20px;
            margin-left: 20px;
        }
        #sidebar {
            display: block;
            float: left;
            width: 300px;
            overflow-y: scroll;
            margin-right:20px;
        }
        body {
            overflow-y: hidden;
            background-color: #f2f2f2;
        }
        .metro h1 {
            color: #052D42 !important;
        }

        .metro .sidebar>ul ul, .metro .sidebar>ul ul li a {
            background-color: #3d3d3d;
            border: 0px;
            color: #fff;
        }

        .metro h2, .metro h3 {
            margin: 30px 0 15px 0;
        }

        .metro ol {
            padding-left: 40px;
        }

        .metro .sidebar>ul li.active a {
            background-color: #052D42;
        }

        code {
            background-color: #191919 !important;
            color: #87b6ff !important;
            line-height: 120% !important;
            border-radius: 6px;
            font-weight: normal;
            font-style: normal;
            font-size: 11pt;
            letter-spacing: .02em;
            font-family: 'Courier New',monospace;
            display: inline-block;
            padding: 3px 5px;
            margin: 0;
            color: #e51400;
            border: 1px #d4d4d4 solid;
        }

        .popup-box {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            display: inline-block;
            z-index: 1000;
            text-align: left;
            background-color: yellow;
        }

        .hidden {
            display: none;
        }

        .metro hr {
            height: 1px;
            background-color: black;
        }

  </style>

<script>
    function adjustHeight() {
        //adjust the height of the content and sidebar
        $("#content").outerHeight(window.innerHeight -45);
        $("#sidebar").outerHeight(window.innerHeight -45);
    }

    function close() {
        $('#sidebar').animate({width: "40px"}, {duration: 400});
        $('#sidebar > ul').addClass('hidden');

        $('#sidebar-open').removeClass('hidden');
        $('#sidebar-close').addClass('hidden');
    }

    function open(initialSidebarWidth) {
        $('#sidebar').animate({width: initialSidebarWidth}, 400, function () {
            $('#sidebar > ul').removeClass('hidden');

            $('#sidebar-close').removeClass('hidden');
            $('#sidebar-open').addClass('hidden');
        });
    }

    $(document).ready(function() {
        var path = window.location.pathname.replace("/scalejs/scalejs-docs/out","");

        var initialSidebarWidth = $('#sidebar').width();

        //make selected page active on sidebar
        $("a[href='." + path +"']").parent().addClass("active");

        adjustHeight();
        $(window).resize(adjustHeight);

        //create code highlighting
        $('pre').each(function() {
            $(this).html($(this).html().replace(/!!\*/g, "<i style='background-color:#FFFF99'>").replace(/\*\*!/g, "</i>"));
        });

        console.log(path);
        //expand grid if it is grid
        if(path === '/grid1.html' || path === '/grid2.html' || path=='/grid3.html') $('#grid-dropdown').css("display","block");

        $('#sidebar-close').click(close);

        $('#sidebar-open').click(function () {
            open(initialSidebarWidth);
        });
    });

</script>
</head>
<body>

    <header class="metro header">
        <nav class="navigation-bar dark fixed-top">
    <div class="navigation-bar-content">
        <a href="./" class="element"><span class="icon-home"></span> SCALEJS</a>
        <span class="element-divider"></span>

        <a class="element1 pull-menu" href="#"></a>

        <ul class="element-menu no-desktop">
            <li>
                <a class="dropdown-toggle" href="#"><span class="icon-layers"></span> Docs</a>
                <ul class="dropdown-menu dark" data-role="dropdown">
                    <li>
                        <a href="#" class="dropdown-toggle">Getting Started</a>
                        <ul class="dropdown-menu dark" data-role="dropdown">
                            <li><a href="./quick-start.html"><i class="icon-new"></i>Project Template Generator</a></li>
                            <li><a href="./pjsonform.html"><i class="icon-play"></i> How To: Build a Form</a></li>
                            <li><a href="./action.html"><i class="icon-play"></i> How To: PJSON Actions</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#" class="dropdown-toggle">API Docs</a>
                        <ul class="dropdown-menu dark" data-role="dropdown">
                            <li>
                                <a href="https://eikospartners.github.io/scalejs.metadataFactory-common/doc/index.html">Common Components</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li class="divider"></li>
            <li><a title="Visual Studio Gallery" href="http://visualstudiogallery.msdn.microsoft.com/2a3d0050-ccab-458f-8bfc-2f2aca73e631"><span class="icon-box-add"></span> Visual Studio</a></li>
            <li class="divider"></li>
            <li><a title="GitHub" href="https://github.com/EikosPartners/scalejs"><span class="icon-github-3"></span> GitHub</a></li>
        </ul>

        <div class="no-tablet-portrait no-phone">
            <a href="./docs.html" class="element"><span class="icon-layers"></span> Docs</a>
            <span class="element-divider"></span>

            <a title="Visual Studio Gallery" href="http://visualstudiogallery.msdn.microsoft.com/2a3d0050-ccab-458f-8bfc-2f2aca73e631" class="element place-right"><span class="icon-box-add"></span> Visual Studio</a>
            <span class="element-divider place-right"></span>

            <a title="GitHub" href="https://github.com/EikosPartners/scalejs" class="element place-right"><span class="icon-github-3"></span> GitHub</a>
            <span class="element-divider place-right"></span>
        </div>
    </div>
</nav>

    </header>

    <div id="container" class="metro">
        <div id="sidebar" class="sidebar no-tablet-portrait no-phone">
            <button id="sidebar-close"><i class="icon-minus"></i></button>
            <button id="sidebar-open" class="hidden"><i class="icon-plus"></i></button>
            <ul>
                <li class="title">Getting Started</li>
                <li><a href="./quick-start.html"><i class="icon-new"></i>Project Template Generator</a></li>
                <li><a href="./pjsonform.html"><i class="icon-play"></i> How To: Build a Form</a></li>
                <li><a href="./action.html"><i class="icon-play"></i> How To: PJSON Actions</a></li>
                <li class="title">
                    API Docs
                </li>
                <li>
                    <a href="https://eikospartners.github.io/scalejs.metadataFactory-common/doc/index.html">Common Components</a>
                </li>
            </ul>
        </div>

        <div id="content">
            <script>
    var ajaxJson = {
        "type": "editor",
        "id": "ajaxJson",
        "value": {
            "type": "action",
            "actionType": "ajax",
            "text": "SUBMIT",
            "options": {
                "target": {
                    "uri": "store",
                }
            }
        },
        "output": true,
        "classes": "editor",
        "outputClasses": "output"
    };

    var ajaxMustache = {
        "type": "editor",
        "id": "ajaxMustache",
        "value": {
            "type": "adapter",
            "id": "dashboardAdapter",
            "dataSourceEndpoint": {
                "target": {
                    "uri": "stores"
                },
                "keyMap": {
                    "dataKey": "stores"
                }
            },
            "children": [
                {
                    "type": "listAdvanced",
                    "id": "stores",
                    "list": {
                        "type": "list",
                        "label": "Stores",
                        "classes": "list-advanced",
                        "options": {
                            "subscribeToData": true
                        },
                        "items": [
                            {
                                "id": "id",
                                "label": "ID",
                                "type": "input",
                                "inputType": "text"
                            },
                            {
                                "id": "name",
                                "label": "NAME",
                                "type": "input",
                                "inputType": "text"
                            },
                            {
                                "type": "action",
                                "actionType": "ajax",
                                "text": "Submit",
                                "classes": "center",
                                "options": {
                                    "target": {
                                        "uri": "example/{{id}}",
                                        "options": {
                                            "type": "POST"
                                        }
                                    }
                                }
                            }
                        ]
                    }
                }
            ]
        },
        "output": true,
        "classes": "editor",
        "outputClasses": "output"
    };

    var ajaxParams = {
        "type": "editor",
        "id": "editorJson",
        "value": {
            "type": "adapter",
            "id": "dashboardAdapter",
            "dataSourceEndpoint": {
                "target": {
                    "uri": "stores"
                },
                "keyMap": {
                    "dataKey": "stores"
                }
            },
            "children": [
                {
                    "type": "listAdvanced",
                    "id": "stores",
                    "list": {
                        "type": "list",
                        "label": "Stores",
                        "classes": "list-advanced",
                        "options": {
                            "subscribeToData": true
                        },
                        "items": [
                            {
                                "id": "id",
                                "label": "ID",
                                "type": "input",
                                "inputType": "text"
                            },
                            {
                                "id": "name",
                                "label": "NAME",
                                "type": "input",
                                "inputType": "text"
                            },
                            {
                                "type": "action",
                                "actionType": "ajax",
                                "text": "Submit",
                                "classes": "center",
                                "options": {
                                    "target": {
                                        "uri": "example",
                                        "options": {
                                            "type": "POST"
                                        }
                                    },
                                    "params": {
                                        "name": "{{name}}"
                                    }
                                }
                            }
                        ]
                    }
                }
            ]
        },
        "output": true,
        "classes": "editor",
        "outputClasses": "output"
    };

    var ajaxInputs = {
        "type": "editor",
        "id": "ajaxInputs",
        "value": {
            "type": "adapter",
            "id": "dashboardAdapter",
            "dataSourceEndpoint": {
                "target": {
                    "uri": "stores"
                },
                "keyMap": {
                    "dataKey": "stores"
                }
            },
            "children": [
                {
                    "type": "listAdvanced",
                    "id": "stores",
                    "list": {
                        "type": "list",
                        "label": "Stores",
                        "classes": "list-advanced",
                        "options": {
                            "subscribeToData": true
                        },
                        "items": [
                            {
                                "id": "id",
                                "label": "ID",
                                "type": "input",
                                "inputType": "text"
                            },
                            {
                                "id": "name",
                                "label": "NAME",
                                "type": "input",
                                "inputType": "text"
                            },
                            {
                                "id": "location",
                                "label": "LOCATION",
                                "type": "input",
                                "inputType": "text"
                            }
                        ]
                    }
                },
                {
                    "type": "action",
                    "actionType": "ajax",
                    "text": "Submit",
                    "classes": "center",
                    "options": {
                        "target": {
                            "uri": "example",
                            "options": {
                                "type": "POST"
                            }
                        }
                    }
                }
            ]
        },
        "output": true,
        "classes": "editor",
        "outputClasses": "output"
    };

    var nextErrorActions = {
        "type": "editor",
        "id": "nextErrorActions",
        "value": {
            "type": "action",
            "actionType": "ajax",
            "text": "SUBMIT",
            "options": {
                "target": {
                    "uri": "colors",
                },
                "nextActions": [
                    {
                        "type": "action",
                        "actionType": "popup",
                        "options": {
                            "title": "Success!",
                            "template": "action_popup_template",
                            "message": "This is a popup in the next action of an ajax request!",
                            "hideDelay": 2000
                        }
                    }
                ],
                "errorActions": [
                    {
                        "type": "action",
                        "actionType": "popup",
                        "options": {
                            "title": "Error!",
                            "template": "action_popup_template",
                            "message": "This is a popup in the error action of an ajax request",
                            "hideDelay": 2000
                        }
                    }
                ]
            }
        },
        "output": true,
        "classes": "editor",
        "outputClasses": "output"
    };

    var eventJson = {
        "type": "editor",
        "id": "eventJson",
        "value": {
            "type": "action",
            "actionType": "event",
            "options": {
                "target": "my_grid.add",
                "params": [
                    {
                        "status": "{{status}}"
                    }
                ],
                "useOptions": true
            }
        },
        "output": false,
        "classes": "editor"
    };

    var redirectJson = {
        "type": "editor",
        "id": "redirectJson",
        "value": {
            "type": "action",
            "actionType": "redirect",
            "text": "Redirect",
            "options": {
                "target": "https://www.google.com"
            }
        },
        "output": true,
        "classes": "editor",
        "outputClasses": "output"
    };

    var routeJson = {
        "type": "editor",
        "id": "routeJson",
        "value": {
            "type": "action",
            "actionType": "route",
            "text": "Add User",
            "options": {
                "target": "add-user"
            }
        },
        "output": true,
        "classes": "editor",
        "outputClasses": "output"
    };

    var seriesJson = {
        "type": "editor",
        "id": "seriesJson",
        "value": {
            "type": "action",
            "actionType": "series",
            "text": "Start Actions",
            "options": {
                "actions": [
                    {
                        "type": "action",
                        "actionType": "route",
                        "text": "Add User",
                        "options": {
                            "target": "add-user"
                        }
                    },
                    {
                        "type": "action",
                        "actionType": "event",
                        "options": {
                            "target": "my_grid.add",
                            "params": [                            
                                {
                                    "name": "{{request.name}}",
                                    "endpoint": "{{request.uri}}",
                                    "status": "{{status}}"
                                }
                            ],
                            "useOptions": true
                        }
                    }
                ]
            }
        },
        "output": true,
        "classes": "editor",
        "outputClasses": "output"
    };

    var popupJson = {
        "type": "editor",
        "id": "popupJson",
        "value": {
            "type": "action",
            "text": "Popup",
            "actionType": "popup",
            "options": {
                "title": "Success",
                "template": "action_popup_template",
                "message": "Your form has been submitted successfully"
            }
        },
        "output": true,
        "classes": "editor",
        "outputClasses": "output"
    };

    var closePopupJson = {
        "type": "editor",
        "id": "closePopupJson",
        "value": {
            "type": "action",
            "text": "Close Popup",
            "actionType": "closePopup"
        },
        "output": true,
        "classes": "editor",
        "outputClasses": "output"
    };

    var renderExample = {
        "type": "editor",
        "id": "renderExample",
        "value": [
            {
                "type": "action",
                "actionType": "ajax",
                "text": "Submit",
                "options": {
                    "target": {
                        "uri": "colors"
                    },
                    "nextActions": [
                        {
                            "type": "action",
                            "actionType": "event",
                            "options": {
                                "target": "result.render",
                                "useOptions": true,
                                "paramsKey": "data",
                                "data": {
                                    "data": {
                                        "type": "action",
                                        "actionType": "redirect",
                                        "text": "Redirect",
                                        "options": {
                                            "target": "https://www.google.com"
                                        }
                                    }
                                }
                            }
                        }
                    ]
                }
            },
            {
                "type": "render",
                "id": "result"
            }
        ],
        "output": true,
        "classes": "editor",
        "outputClasses": "output"
    };
</script>

<h1 id="how-to-use-pjson-actions">How to use PJSON Actions</h1>
<p>The Action component is what you can use to bring your application to life. From ajax calls, events, routing and popups, Action is one standardized way of creating interactivity in the app.</p>
<p>You should already have an application with a Scalejs/PJSON set up, if not visit the <a href="https://eikospartners.github.io/scalejs/quick-start.html">quick start guide.</a></p>
<h2 id="documentation">Documentation</h2>
<ul>
<li><a href="https://eikospartners.github.io/scalejs.metadataFactory-common/doc/module-action.html">PJSON Action</a></li>
<li><a href="https://github.com/EikosPartners/scalejs.metadataFactory-common/tree/master/src/action">Source Code</a></li>
</ul>
<h2 id="available-pjson-actions">Available PJSON Actions</h2>
<ul>
<li><a href="#ajax">Ajax</a></li>
<li><a href="#event">Event</a></li>
<li><a href="#redirect">Redirect</a></li>
<li><a href="#route">Route</a></li>
<li><a href="#series">Series</a></li>
<li><a href="#popup">Popup</a></li>
<li><a href="#close_popup">Close Popup</a></li>
</ul>
<p>You can view the source code of each action in the developer&#39;s console and the file names can be found in the header of the action&#39;s section.</p>
<hr>

<div id="ajax"></div>

<h2 id="-ajax-ajax-js-https-eikospartners-github-io-scalejs-metadatafactory-common-doc-module-ajax-html-"><a href="https://eikospartners.github.io/scalejs.metadataFactory-common/doc/module-ajax.html">Ajax (ajax.js)</a></h2>
<h3 id="__simple-request__"><strong>Simple Request</strong></h3>
<p>This is an example of a very simple ajax action that makes a GET request to the store route.</p>
<div class="editor-container container-small" data-bind="metadataFactory: ajaxJson"></div>

<h3 id="__uri-rendering__"><strong>URI Rendering</strong></h3>
<p>This example shows how to create an ajax action with a dynamic uri that will be mustache rendered using the data in its context.
Simply add an entry to the list and the request will be made with the id from the row.</p>
<div class="editor-container container-large" data-bind="metadataFactory: ajaxMustache"></div>

<h3 id="__params-rendering__"><strong>Params Rendering</strong></h3>
<p>This example is similar to the previous, except this ajax action will render the data in the row based on the params key.</p>
<div class="editor-container container-large" data-bind="metadataFactory: ajaxParams"></div>

<h3 id="__sending-a-registered-input__"><strong>Sending a registered input</strong></h3>
<p>In this example an ajax action is created that will send all of the data that is in its context. The data will come from the inputs in the adapter.</p>
<div class="editor-container container-large" data-bind="metadataFactory: ajaxInputs"></div>

<h3 id="__using-next-error-actions__"><strong>Using Next/Error Actions</strong></h3>
<p>Ajax actions provide a very useful feature with next and error actions. Simply supply an array of actions to <code>nextActions</code> and/or <code>errorActions</code> and these actions will run on success and error respectively.</p>
<p>To see what happens when an error occurs in the ajax request, try changing the uri to something else!</p>
<div class="editor-container container-large" data-bind="metadataFactory: nextErrorActions"></div>

<h3 id="__using-the-render-component__"><strong>Using the Render Component</strong></h3>
<p>You can use the PJSON Render component to conditionally render another component after an ajax action is complete. In the example below, on a successful ajax call a redirect button will be rendered.</p>
<div class="editor-container container-large" data-bind="metadataFactory: renderExample"></div>

<hr>

<div id="event"></div>

<h2 id="-event-event-js-https-eikospartners-github-io-scalejs-metadatafactory-common-doc-module-event-html-"><a href="https://eikospartners.github.io/scalejs.metadataFactory-common/doc/module-event.html">Event (event.js)</a></h2>
<p>The event action will notify all subscribers of the provided channel in <code>options.target</code> via <a href="https://github.com/EikosPartners/scalejs.messageBus">scalejs.messageBus</a>.</p>
<div class="editor-container container-small" data-bind="metadataFactory: eventJson"></div>

<div id="redirect"></div>

<h2 id="-redirect-redirect-js-https-eikospartners-github-io-scalejs-metadatafactory-common-doc-module-redirect-html-"><a href="https://eikospartners.github.io/scalejs.metadataFactory-common/doc/module-redirect.html">Redirect (redirect.js)</a></h2>
<p>Redirect is a simple action that will redirect to the provided target.</p>
<div class="editor-container container-small" data-bind="metadataFactory: redirectJson"></div>

<div id="route"></div>

<h2 id="-route-route-js-https-eikospartners-github-io-scalejs-metadatafactory-common-doc-module-route-html-"><a href="https://eikospartners.github.io/scalejs.metadataFactory-common/doc/module-route.html">Route (route.js)</a></h2>
<p>The route action provides an easy way navigate around your web application.</p>
<div class="editor-container container-small" data-bind="metadataFactory: routeJson"></div>

<div id="series"></div>

<h2 id="-series-series-js-https-eikospartners-github-io-scalejs-metadatafactory-common-doc-module-series-html-"><a href="https://eikospartners.github.io/scalejs.metadataFactory-common/doc/module-series.html">Series (series.js)</a></h2>
<p>The series action is exactly as it sounds; supply an array to <code>options.actions</code> and they will be executed synchronously.</p>
<div class="editor-container container-large" data-bind="metadataFactory: seriesJson"></div>

<div id="popup"></div>

<h2 id="-popup-popup-js-https-eikospartners-github-io-scalejs-metadatafactory-common-doc-module-popup-html-"><a href="https://eikospartners.github.io/scalejs.metadataFactory-common/doc/module-popup.html">Popup (popup.js)</a></h2>
<p>The popup action provides developers with an easy way to create popups. A custom template can be used to create both simple and complex popups by using <code>options.template</code>.</p>
<div class="editor-container container-small" data-bind="metadataFactory: popupJson"></div>

<div id="close_popup"></div>

<h2 id="-close-popup-popup-js-https-eikospartners-github-io-scalejs-metadatafactory-common-doc-module-popup-html-"><a href="https://eikospartners.github.io/scalejs.metadataFactory-common/doc/module-popup.html">Close Popup (popup.js)</a></h2>
<p>The close popup action can be used to close a popup.</p>
<div class="editor-container container-xs" data-bind="metadataFactory: closePopupJson"></div>

<script src="https://eikospartners.github.io/scalejs-dev/build/app.bundle.js"></script>
        </div>

    </div>

</body>
</html>
