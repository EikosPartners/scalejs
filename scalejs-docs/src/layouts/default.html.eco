<!DOCTYPE html>
<html>
<head>

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

  <link rel="stylesheet" href="style/style.css" />
  <link rel="stylesheet" href="style/metro-bootstrap.min.css" />
  <link rel="stylesheet" href="style/metro-bootstrap-responsive.min.css" />
  <link rel="stylesheet" href="https://eikospartners.github.io/scalejs-dev/build/app.css" />
  <script src="style/jquery.min.js"></script>
  <script src="style/jquery.ui.widget.js"></script>
  <script src="style/metro.min.js"></script>
  <link rel="stylesheet" href="highlight.css" />

  <%- @getBlock("meta").toHTML() %>
  <%- @getBlock("styles").add(@document.styles).toHTML() %>

  <style>
        .header {
            height: 45px;
        }
        #content {
            overflow-y: scroll;
            padding-right: 20px;
            margin-left: 20px;
        }
        #sidebar {
            display: block;
            float: left;
            width: 300px;
            overflow-y: scroll;
            margin-right:20px;
        }
        body {
            overflow-y: hidden;
            background-color: #f2f2f2;
        }
        .metro h1 {
            color: #052D42 !important;
        }

        .metro .sidebar>ul ul, .metro .sidebar>ul ul li a {
            background-color: #3d3d3d;
            border: 0px;
            color: #fff;
        }

        .metro h2, .metro h3 {
            margin: 30px 0 15px 0;
        }

        .metro ol {
            padding-left: 40px;
        }

        .metro .sidebar>ul li.active a {
            background-color: #052D42;
        }

        code {
            background-color: #191919 !important;
            color: #87b6ff !important;
            line-height: 120% !important;
            border-radius: 6px;
            font-weight: normal;
            font-style: normal;
            font-size: 11pt;
            letter-spacing: .02em;
            font-family: 'Courier New',monospace;
            display: inline-block;
            padding: 3px 5px;
            margin: 0;
            color: #e51400;
            border: 1px #d4d4d4 solid;
        }

        .popup-box {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            display: inline-block;
            z-index: 1000;
            text-align: left;
            background-color: yellow;
        }

        .hidden {
            display: none;
        }

        .metro hr {
            height: 1px;
            background-color: black;
        }

  </style>

<script>
    function adjustHeight() {
        //adjust the height of the content and sidebar
        $("#content").outerHeight(window.innerHeight -45);
        $("#sidebar").outerHeight(window.innerHeight -45);
    }

    $(document).ready(function() {
        var path = window.location.pathname.replace("/scalejs/scalejs-docs/out","");

        var initialSidebarWidth = $('#sidebar').width();

        //make selected page active on sidebar
        $("a[href='." + path +"']").parent().addClass("active");

        adjustHeight();
        $(window).resize(adjustHeight);

        //create code highlighting
        $('pre').each(function() {
            $(this).html($(this).html().replace(/!!\*/g, "<i style='background-color:#FFFF99'>").replace(/\*\*!/g, "</i>"));
        });

        console.log(path);
        //expand grid if it is grid
        if(path === '/grid1.html' || path === '/grid2.html' || path=='/grid3.html') $('#grid-dropdown').css("display","block");

        $('#sidebar-close').click(function() {
            $('#sidebar').animate({width: "40px"}, {duration: 400});
            $('#sidebar > ul').addClass('hidden');

            $('#sidebar-open').removeClass('hidden');
            $('#sidebar-close').addClass('hidden');
        });

        $('#sidebar-open').click(function () {
            $('#sidebar').animate({width: initialSidebarWidth}, 400, function () {
                $('#sidebar > ul').removeClass('hidden');

                $('#sidebar-close').removeClass('hidden');
                $('#sidebar-open').addClass('hidden');
            });
        });
    });

</script>
</head>
<body>

    <header class="metro header">
        <%- @include('nav.html') %>
    </header>

    <div id="container" class="metro">
        <div id="sidebar" class="sidebar no-tablet-portrait no-phone">
            <button id="sidebar-close"><i class="icon-minus"></i></button>
            <button id="sidebar-open" class="hidden"><i class="icon-plus"></i></button>
            <ul>
                <li class="title">Getting Started</li>
                <li><a href="./quick-start.html"><i class="icon-new"></i>Project Template Generator</a></li>
                <li><a href="./pjsonform.html"><i class="icon-play"></i> How To: Build a Form</a></li>
                <li><a href="./action.html"><i class="icon-play"></i> How To: PJSON Actions</a></li>
                <li class="title">
                    API Docs
                </li>
                <li>
                    <a href="https://eikospartners.github.io/scalejs.metadataFactory-common/doc/index.html">Common Components</a>
                </li>
            </ul>
        </div>

        <div id="content">
            <%- @content %>
        </div>

    </div>

</body>
</html>
