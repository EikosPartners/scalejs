<!DOCTYPE html>
<html>
<head>
    
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <link rel="stylesheet" href="style/metro-bootstrap.min.css" />
	  <link rel="stylesheet" href="style/metro-bootstrap-responsive.min.css" />
    <script src="style/jquery.min.js"></script>
	  <script src="style/jquery.ui.widget.js"></script>	
    <script src="style/metro.min.js"></script>
	  <link rel="stylesheet" href="highlight.css" />

	<meta name="generator" content="DocPad v6.60.3" />
	
    
	<style>
    header {
      height: 45px;
    }
    #content {
      overflow-y: scroll;
	  padding-right: 20px;
	  margin-left: 20px;
    }
    #sidebar {
      display: block;
      float: left;
      width: 300px;
      overflow-y: scroll;
      margin-right:20px;
    }
    body {
      overflow-y: hidden;
     }
	.metro h1 {
		color: #9a1616 !important;
	}	
	.metro .sidebar>ul ul, .metro .sidebar>ul ul li a {
		background-color: #3d3d3d;
		border: 0px;
		color: #fff;
	}
  </style>
    
	<script>
	function adjustHeight() {
		//adjust the height of the content and sidebar
		$("#content").outerHeight(window.innerHeight -45);
		$("#sidebar").outerHeight(window.innerHeight -45);
	}

    $(document).ready(function() {
		var path = window.location.pathname.replace("/scalejs/scalejs-docs/out","");
		
		//make selected page active on sidebar
		$("a[href='." + path +"']").parent().addClass("active");

		adjustHeight();
		$(window).resize(adjustHeight);

		//create code highlighting
		$('pre').each(function() {
			$(this).html($(this).html().replace(/!!\*/g, "<i style='background-color:#FFFF99'>").replace(/\*\*!/g, "</i>"));
		});
    });

  </script>
</head>
<body class="metro">

  <header>
	  <nav class="navigation-bar dark fixed-top">
    <div class="navigation-bar-content">
        <a href="./" class="element"><span class="icon-home"></span> SCALEJS</a>
        <span class="element-divider"></span>

        <a class="element1 pull-menu" href="#"></a>

        <ul class="element-menu no-desktop">
            <li>
                <a class="dropdown-toggle" href="#"><span class="icon-layers"></span> Docs</a>
                <ul class="dropdown-menu dark" data-role="dropdown">
                    <li>
                        <a href="#" class="dropdown-toggle">Getting Started</a>
                        <ul class="dropdown-menu dark" data-role="dropdown">
                            <li><a href="./docs.html"><i class="icon-star-3"></i> Introduction</a></li>
                            <li><a href="./install.html"><i class="icon-download-2"></i> Install Scalejs</a></li>
                            <li><a href="./project.html"><i class="icon-new"></i> Create an Application Project</a></li>
                            <!--<li><a href="./build.html"><i class="icon-cloud"></i> Build and Deployment</a></li>
                            <li><a href="./test.html"><i class="icon-checkmark"></i> Testing</a></li>
                            <li><a href="./best.html"><i class="icon-thumbs-up"></i> Best Practices</a></li>-->
                        </ul>
                    </li>
                    <li>
                        <a href="#" class="dropdown-toggle">Overview</a>
                        <ul class="dropdown-menu dark" data-role="dropdown">
                            <li><a href="./template.html"><i class="icon-clipboard-2"></i> Project Template</a></li>
                            <li><a href="./architecture.html"><i class="icon-puzzle"></i> Architecture</a></li>
                            <li><a href="./mvvm.html"><i class="icon-tree-view"></i> Model-View-ViewModel</a></li>
                            <li><a href="./statechart.html"><i class="icon-tab"></i> Statechart</a></li>
                            <li><a href="./routing.html"><i class="icon-share"></i> Routing</a></li>
                            <li><a href="./composition.html"><i class="icon-screen"></i> UI Composition</a></li>
                            <li><a href="./gridlayout.html"><i class="icon-grid-view"></i> Grid Layout</a></li>
                            <!-- <li><a href="./styles.html"><i class="icon-droplet"></i> Styles</a></li>
                            <li><a href="./extensions.html"><i class="icon-wrench"></i> Extensions</a></li>
                            <li><a href="./api.html"><i class="icon-book"></i> API Documentation</a></li>-->
                        </ul>
                    </li>
                    <li>
                        <a href="#" class="dropdown-toggle">UI Components</a>
                        <ul class="dropdown-menu dark" data-role="dropdown">
                            <li>
                                <a class="dropdown-toggle" href=""><i class="icon-grid"></i> Grid</a>
                                <ul class="dropdown-menu" data-role="dropdown">
                                    <li><a href="./grid1.html">Introduction</a></li>
                                    <li><a href="./grid2.html">Filtering</a></li>
                                    <li><a href="./grid3.html">Sorting</a></li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a href="#" class="dropdown-toggle">Tutorials</a>
                        <ul class="dropdown-menu dark" data-role="dropdown">
                            <li><a href="./todomvc.html">ToDoMVC</a></li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li class="divider"></li>
            <li><a title="Visual Studio Gallery" href="http://visualstudiogallery.msdn.microsoft.com/2a3d0050-ccab-458f-8bfc-2f2aca73e631"><span class="icon-box-add"></span> Visual Studio</a></li>
            <li class="divider"></li>
            <li><a title="GitHub" href="https://github.com/lisovin/scalejs/tree/master"><span class="icon-github-3"></span> GitHub</a></li>
        </ul>

        <div class="no-tablet-portrait no-phone">
            <a href="./docs.html" class="element"><span class="icon-layers"></span> Docs</a>
            <span class="element-divider"></span>

            <a title="Visual Studio Gallery" href="http://visualstudiogallery.msdn.microsoft.com/2a3d0050-ccab-458f-8bfc-2f2aca73e631" class="element place-right"><span class="icon-box-add"></span> Visual Studio</a>
            <span class="element-divider place-right"></span>

            <a title="GitHub" href="https://github.com/lisovin/scalejs/tree/master" class="element place-right"><span class="icon-github-3"></span> GitHub</a>
            <span class="element-divider place-right"></span>
        </div>
    </div>
</nav>
  </header>
  
  <div id="container">
     
       <div id="sidebar" class="sidebar no-tablet-portrait no-phone">
		      <ul>
			      <li class="title">Getting Started</li>
				      <li><a href="./docs.html"><i class="icon-star-3"></i> Introduction</a></li>
				      <li><a href="./install.html"><i class="icon-download-2"></i> Install Scalejs</a></li>
				      <li><a href="./project.html"><i class="icon-new"></i> Create an Application Project</a></li>
                            <!--<li><a href="./build.html"><i class="icon-cloud"></i> Build and Deployment</a></li>
                            <li><a href="./test.html"><i class="icon-checkmark"></i> Testing</a></li>
                            <li><a href="./best.html"><i class="icon-thumbs-up"></i> Best Practices</a></li>-->
			      <li class="title">Overview</li>
                            <li><a href="./template.html"><i class="icon-clipboard-2"></i> Project Template</a></li>
                            <li><a href="./architecture.html"><i class="icon-puzzle"></i> Architecture</a></li>
                            <li><a href="./mvvm.html"><i class="icon-tree-view"></i> Model-View-ViewModel</a></li>
                            <li><a href="./statechart.html"><i class="icon-tab"></i> Statechart</a></li>
                            <li><a href="./routing.html"><i class="icon-share"></i> Routing</a></li>
                            <li><a href="./composition.html"><i class="icon-screen"></i> UI Composition</a></li>
                            <li><a href="./gridlayout.html"><i class="icon-grid-view"></i> Grid Layout</a></li>
                            <!--<li><a href="./styles.html"><i class="icon-droplet"></i> Styles</a></li>
                            <li><a href="./extensions.html"><i class="icon-wrench"></i> Extensions</a></li>
                            <li><a href="./api.html"><i class="icon-book"></i> API Documentation</a></li>-->
				  <li class="title">UI Components</li>
				            <li>
								<a class="dropdown-toggle" href=""><i class="icon-grid"></i> Grid</a>
								<ul class="dropdown-menu" data-role="dropdown" style="display:block">
									<li><a href="./grid1.html">Introduction</a></li>
									<li><a href="./grid2.html">Filtering</a></li>
									<li><a href="./grid3.html">Sorting</a></li>
								</ul>
							</li>
			      <li class="title">Tutorials</li>
				      <li><a href="./todomvc.html">ToDoMVC</a></li>
		      </ul>
	      </div>

	    <div id="content">
		    <p><link href="grid/slick/slick.grid.css" rel="stylesheet" type="text/css" /></p>
<p><link href="grid/slick/slick-default-theme.css" rel="stylesjeet" type="text/css" /></p>
<p><script src="grid/Grid-1.0.2.min.js" type="text/javascript"></script></p>
<h1 id="grid-filtering">Grid Filtering</h1>
<hr>

<p><a href="http://scalejs.com/scalejs-examples/Grid/">Grid Live Sample</a> |
<a href="https://github.com/lisovin/scalejs-examples/tree/master/Grid">Grid on GitHub</a></p>
<hr>


<p>In this section we will show you how to add filtering capabilities to your <a href="https://github.com/lisovin/scalejs-examples/tree/grid-1/Grid">grid</a>. 
In order to do this, you should already have a grid in your application. 
You can learn how to add a grid to your application in the <a href="./grid1.html">grid introduction</a> tutorial.</p>
<p>Filtering can be done in two ways. You can either use the default filtering which comes with the extension,
or you can filter the items yourself. The benefit to the latter is that you have full
control over the data in the grid - meaning you have the option to implement filtering on the server. </p>
<p>You can view this code on <a href="https://github.com/lisovin/scalejs-examples/tree/grid-2/Grid">github</a>
or clone <a href="https://github.com/lisovin/scalejs-examples">scalejs-examples repository</a> and running the following command:</p>
<p><code>git checkout grid-2</code></p>
<p><br></p>
<h2 id="filter-overview">Filter Overview</h2>
<p>The filtering control gives you many different ways of filtering the data.</p>
<p><img src="./filter2.png" alt="filter1"></p>
<p>In this picture, we have highlighted 4 aspects of the filter. The filter itself can be opened by
clicking on the filter icon (pictured within the quick filter box).</p>
<ol>
<li><strong>Quick Filter:</strong> an input box on the header that can be used to quickly filter data</li>
<li><strong>Quick Search:</strong> an input box within the filter which allows you to narrow the options displayed within the list</li>
<li><strong>List:</strong> a list of values which can be checked or unchecked.
The grid will only show rows which contain the selected items in the list. 
If all of the items are selected and there is a quick search enter, the filter behaves as if a
quick filter is entered.</li>
<li><strong>Value:</strong> this will filter based upon conditions and values. For strings, the conditions are
<em>contains</em>, <em>starts with</em>, and <em>ends with</em>. For numbers, the conditions are <em>equal to</em>, <em>greater than</em>, <em>less than</em>, and <em>not equal to</em>.
There is also an option to remove any data which contains an empty value for that column by checking <em>are not empty</em>.</li>
</ol>
<p>When setting a value, selecting items in the list, or typing in a quick filter,
 it resets other filters for that column. For example, if you have an item checked, and then decided to enter a value,
your list selection would be removed.</p>
<p><br></p>
<h2 id="filter-configuration">Filter Configuration</h2>
<p>There are a few changes you will need to make to the bindings and your columns in order to enable filtering.
In your bindings, you will need to show the header row (the row which contains the quick filter and the icon)
and also tell the extension to include the &#39;observableFilters&#39; plugin.</p>
<h5 id="example-adding-filtering-to-grid-bindings-mainbindings-js-https-github-com-lisovin-scalejs-examples-blob-grid-2-grid-app-main-bindings-mainbindings-js-">Example: adding filtering to grid bindings (<a href="https://github.com/lisovin/scalejs-examples/blob/grid-2/Grid/app/main/bindings/mainBindings.js">mainBindings.js</a>)</h5>
<pre class="highlight"><code class="javascript"><span class="hljs-comment">/*global define */</span>
<span class="hljs-comment">/*jslint sloppy: true*/</span>
define({
    <span class="hljs-string">'main-grid'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>
        <span class="hljs-keyword">return</span> {
            slickGrid: {
                columns: <span class="hljs-keyword">this</span>.columns,
                itemsSource: <span class="hljs-keyword">this</span>.itemsSource,
                enableColumnReorder: <span class="hljs-literal">false</span>,
                forceFitColumns: <span class="hljs-literal">true</span>,
                !!*showHeaderRow: <span class="hljs-literal">true</span>,
                plugins: {
                    <span class="hljs-string">'observableFilters'</span>: {}
                }**!
            }
        };
    }
});
</code></pre>
<p>The next thing which needs to be done is modifying your columns. 
You simply need to specify that there is a filter for that column, and pass it an object with some configuration information.
There are two types of filters - <code>string</code> and <code>number</code> - you will need to specify which one for each column.</p>
<h5 id="example-the-viewmodel-for-itemssource-and-columns-mainviewmodel-js-https-github-com-lisovin-scalejs-examples-blob-grid-2-grid-app-main-viewmodels-mainviewmodel-js-">Example: the viewmodel for itemsSource and columns (<a href="https://github.com/lisovin/scalejs-examples/blob/grid-2/Grid/app/main/viewmodels/mainViewModel.js">mainViewModel.js</a>)</h5>
<pre class="highlight"><code class="javascript"><span class="hljs-comment">/*global define */</span>
define([
    <span class="hljs-string">'sandbox!main'</span>
], <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(
    sandbox
)</span> {</span>
<span class="hljs-pi">    'use strict'</span>;

    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>
        <span class="hljs-keyword">var</span> <span class="hljs-comment">// imports</span>
            range = sandbox.linq.enumerable.range,
            observableArray = sandbox.mvvm.observableArray,
            ajaxGet = sandbox.ajax.jsonpGet,
            <span class="hljs-comment">// vars</span>
            columns,
            itemsSource = observableArray();

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">moneyFormatter</span><span class="hljs-params">(m)</span> {</span>
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">parseFloat</span>(m).toFixed(<span class="hljs-number">2</span>);
        }

        columns = [
            { id: <span class="hljs-string">"Symbol"</span>, field: <span class="hljs-string">"Symbol"</span>, name: <span class="hljs-string">"Symbol"</span>, minWidth: <span class="hljs-number">75</span>!!*, filter: { type: <span class="hljs-string">'string'</span> }**! },
            { id: <span class="hljs-string">"Name"</span>, field: <span class="hljs-string">"Name"</span>, name: <span class="hljs-string">"Name"</span>, minWidth: <span class="hljs-number">300</span>!!*, filter: { type: <span class="hljs-string">'string'</span> }**! },
            { id: <span class="hljs-string">"LastSale"</span>, field: <span class="hljs-string">"LastSale"</span>, name: <span class="hljs-string">"Last Sale"</span>, cssClass: <span class="hljs-string">"money"</span>, minWidth: <span class="hljs-number">100</span>!!*, filter: { type: <span class="hljs-string">'number'</span> }**! },
            { id: <span class="hljs-string">"MarketCap"</span>, field: <span class="hljs-string">"MarketCap"</span>, name: <span class="hljs-string">"Market Cap"</span>, cssClass: <span class="hljs-string">"money"</span>, minWidth: <span class="hljs-number">150</span>!!*, filter: { type: <span class="hljs-string">'mumber'</span> }**! },
            { id: <span class="hljs-string">"Sector"</span>, field: <span class="hljs-string">"Sector"</span>, name: <span class="hljs-string">"Sector"</span>, minWidth: <span class="hljs-number">150</span>!!*, filter: { type: <span class="hljs-string">'string'</span> }**! },
            { id: <span class="hljs-string">"Industry"</span>, field: <span class="hljs-string">"industry"</span>, name: <span class="hljs-string">"Industry"</span>, minWidth: <span class="hljs-number">350</span>!!*, filter: { type: <span class="hljs-string">'string'</span> }**! }];

        ajaxGet(<span class="hljs-string">'./companylist.txt'</span>, {}).subscribe(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(data)</span> {</span>
            itemsSource(<span class="hljs-built_in">JSON</span>.parse(data).map(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(company, index)</span> {</span>
                <span class="hljs-comment">// each item in itemsSource needs an index</span>
                company.index = index
                <span class="hljs-comment">// money formatter</span>
                company.LastSale = moneyFormatter(company.LastSale);
                company.MarketCap = moneyFormatter(company.MarketCap);
                <span class="hljs-keyword">return</span> company;
            }));
        });

        <span class="hljs-keyword">return</span> {
            columns: columns,
            itemsSource: itemsSource
        };
    };
});
</code></pre>
<p><br></p>
<h2 id="filter-images-and-styles">Filter Images and Styles</h2>
<p>Include the images for the arrow and on/off state of the filter which can be found <a href="https://github.com/lisovin/scalejs-examples/tree/grid-2/Grid/images">here</a>.
Update your <a href="https://github.com/lisovin/scalejs-examples/blob/grid-2/Grid/app/main/styles/main.less">main.less</a> file so that it contains styles for grids.</p>
<p><br></p>
<h2 id="result">Result</h2>
<p>Here is the result of those changes.</p>
<div id="grid1" style="width:100%;height:600px"></div>
	    </div>

  </div>
</div>
    
</body>
</html>