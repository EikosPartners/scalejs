<!DOCTYPE html>
<html>
<head>
    
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <link rel="stylesheet" href="style/metro-bootstrap.min.css" />
	  <link rel="stylesheet" href="style/metro-bootstrap-responsive.min.css" />
    <script src="style/jquery.min.js"></script>
	  <script src="style/jquery.ui.widget.js"></script>	
    <script src="style/metro.min.js"></script>
	  <link rel="stylesheet" href="highlight.css" />

	<meta name="generator" content="DocPad v6.60.3" />
	
    
	<style>
    header {
      height: 45px;
    }
    #content {
      overflow-y: scroll;
	  padding-right: 20px;
	  margin-left: 20px;
    }
    #sidebar {
      display: block;
      float: left;
      width: 300px;
      overflow-y: scroll;
      margin-right:20px;
    }
    body {
      overflow-y: hidden;
     }
	.metro h1 {
		color: #9a1616 !important;
	}	
	.metro .sidebar>ul ul, .metro .sidebar>ul ul li a {
		background-color: #3d3d3d;
		border: 0px;
		color: #fff;
	}
  </style>
    
	<script>
    $(document).ready(function() {
		$("a[href='." + window.location.pathname.replace("/scalejs/scalejs-docs/out","") +"']").parent().addClass("active");
		$("#content").outerHeight(window.innerHeight -45);
		$("#sidebar").outerHeight(window.innerHeight -45);

		$('pre').each(function() {
			$(this).html($(this).html().replace(/!!\*/g, "<i style='background-color:#FFFF99'>").replace(/\*\*!/g, "</i>"));
		});

		$(window).resize(function() {
			$("#content").outerHeight(window.innerHeight -45);
			$("#sidebar").outerHeight(window.innerHeight -45);
		});
    });

  </script>
</head>
<body class="metro">

  <header>
	  <nav class="navigation-bar dark fixed-top">
    <div class="navigation-bar-content">
        <a href="./" class="element"><span class="icon-home"></span> SCALEJS</a>
        <span class="element-divider"></span>

        <a class="element1 pull-menu" href="#"></a>

        <ul class="element-menu no-desktop">
            <li>
                <a class="dropdown-toggle" href="#"><span class="icon-layers"></span> Docs</a>
                <ul class="dropdown-menu dark" data-role="dropdown">
                    <li>
                        <a href="#" class="dropdown-toggle">Getting Started</a>
                        <ul class="dropdown-menu dark" data-role="dropdown">
                            <li><a href="./docs.html"><i class="icon-star-3"></i> Introduction</a></li>
                            <li><a href="./install.html"><i class="icon-download-2"></i> Install Scalejs</a></li>
                            <li><a href="./project.html"><i class="icon-new"></i> Create an Application Project</a></li>
                            <!--<li><a href="./build.html"><i class="icon-cloud"></i> Build and Deployment</a></li>
                            <li><a href="./test.html"><i class="icon-checkmark"></i> Testing</a></li>
                            <li><a href="./best.html"><i class="icon-thumbs-up"></i> Best Practices</a></li>-->
                        </ul>
                    </li>
                    <li>
                        <a href="#" class="dropdown-toggle">Overview</a>
                        <ul class="dropdown-menu dark" data-role="dropdown">
                            <li><a href="./template.html"><i class="icon-clipboard-2"></i> Project Template</a></li>
                            <li><a href="./architecture.html"><i class="icon-puzzle"></i> Architecture</a></li>
                            <li><a href="./mvvm.html"><i class="icon-tree-view"></i> Model-View-ViewModel</a></li>
                            <li><a href="./statechart.html"><i class="icon-tab"></i> Statechart</a></li>
                            <li><a href="./routing.html"><i class="icon-share"></i> Routing</a></li>
                            <li><a href="./composition.html"><i class="icon-screen"></i> UI Composition</a></li>
                            <li><a href="./gridlayout.html"><i class="icon-grid-view"></i> Grid Layout</a></li>
                            <!-- <li><a href="./styles.html"><i class="icon-droplet"></i> Styles</a></li>
                            <li><a href="./extensions.html"><i class="icon-wrench"></i> Extensions</a></li>
                            <li><a href="./api.html"><i class="icon-book"></i> API Documentation</a></li>-->
                        </ul>
                    </li>
                    <li>
                        <a href="#" class="dropdown-toggle">UI Components</a>
                        <ul class="dropdown-menu dark" data-role="dropdown">
                            <li>
                                <a class="dropdown-toggle" href=""><i class="icon-grid"></i> Grid</a>
                                <ul class="dropdown-menu" data-role="dropdown">
                                    <li><a href="./grid1.html">Introduction</a></li>
                                    <li><a href="./grid2.html">Filtering</a></li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a href="#" class="dropdown-toggle">Tutorials</a>
                        <ul class="dropdown-menu dark" data-role="dropdown">
                            <li><a href="./todomvc.html">ToDoMVC</a></li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li class="divider"></li>
            <li><a title="Visual Studio Gallery" href="http://visualstudiogallery.msdn.microsoft.com/2a3d0050-ccab-458f-8bfc-2f2aca73e631"><span class="icon-box-add"></span> Visual Studio</a></li>
            <li class="divider"></li>
            <li><a title="GitHub" href="https://github.com/lisovin/scalejs/tree/master"><span class="icon-github-3"></span> GitHub</a></li>
        </ul>

        <div class="no-tablet-portrait no-phone">
            <a href="./docs.html" class="element"><span class="icon-layers"></span> Docs</a>
            <span class="element-divider"></span>

            <a title="Visual Studio Gallery" href="http://visualstudiogallery.msdn.microsoft.com/2a3d0050-ccab-458f-8bfc-2f2aca73e631" class="element place-right"><span class="icon-box-add"></span> Visual Studio</a>
            <span class="element-divider place-right"></span>

            <a title="GitHub" href="https://github.com/lisovin/scalejs/tree/master" class="element place-right"><span class="icon-github-3"></span> GitHub</a>
            <span class="element-divider place-right"></span>
        </div>
    </div>
</nav>
  </header>
  
  <div id="container">
     
       <div id="sidebar" class="sidebar no-tablet-portrait no-phone">
		      <ul>
			      <li class="title">Getting Started</li>
				      <li><a href="./docs.html"><i class="icon-star-3"></i> Introduction</a></li>
				      <li><a href="./install.html"><i class="icon-download-2"></i> Install Scalejs</a></li>
				      <li><a href="./project.html"><i class="icon-new"></i> Create an Application Project</a></li>
                            <!--<li><a href="./build.html"><i class="icon-cloud"></i> Build and Deployment</a></li>
                            <li><a href="./test.html"><i class="icon-checkmark"></i> Testing</a></li>
                            <li><a href="./best.html"><i class="icon-thumbs-up"></i> Best Practices</a></li>-->
			      <li class="title">Overview</li>
                            <li><a href="./template.html"><i class="icon-clipboard-2"></i> Project Template</a></li>
                            <li><a href="./architecture.html"><i class="icon-puzzle"></i> Architecture</a></li>
                            <li><a href="./mvvm.html"><i class="icon-tree-view"></i> Model-View-ViewModel</a></li>
                            <li><a href="./statechart.html"><i class="icon-tab"></i> Statechart</a></li>
                            <li><a href="./routing.html"><i class="icon-share"></i> Routing</a></li>
                            <li><a href="./composition.html"><i class="icon-screen"></i> UI Composition</a></li>
                            <li><a href="./gridlayout.html"><i class="icon-grid-view"></i> Grid Layout</a></li>
                            <!--<li><a href="./styles.html"><i class="icon-droplet"></i> Styles</a></li>
                            <li><a href="./extensions.html"><i class="icon-wrench"></i> Extensions</a></li>
                            <li><a href="./api.html"><i class="icon-book"></i> API Documentation</a></li>-->
				  <li class="title">UI Components</li>
				            <li>
								<a class="dropdown-toggle" href=""><i class="icon-grid"></i> Grid</a>
								<ul class="dropdown-menu" data-role="dropdown">
									<li><a href="./grid1.html">Introduction</a></li>
									<li><a href="./grid2.html">Filtering</a></li>
								</ul>
							</li>
			      <li class="title">Tutorials</li>
				      <li><a href="./todomvc.html">ToDoMVC</a></li>
		      </ul>
	      </div>

	    <div id="content">
		    <p><link href="grid/slick/slick.grid.css" rel="stylesheet" type="text/css" /></p>
<p><link href="grid/slick/slick-default-theme.css" rel="stylesjeet" type="text/css" /></p>
<script src="grid/Grid-1.0.0.js" type="text/javascript"></script>

<h1 id="grid-introduction">Grid Introduction</h1>
<hr>

<p><a href="http://scalejs.com/scalejs-examples/Grid/">Grid Live Sample</a> |
<a href="https://github.com/lisovin/scalejs-examples/tree/master/Grid">Grid on GitHub</a></p>
<hr>

<p>One of the UI Components you can install and use in your scalejs projects is a <strong>grid</strong> which, in its most basic form, displays data in rows and columns.
This page will detail how to include the grid in your project. 
Our extension is adapted from the <a href="https://github.com/mleibman/SlickGrid">SlickGrid</a> library created by <a href="https://github.com/mleibman">Michael Leibman</a>.
The reason we decided to use SlickGrid was because it is a high performance library which supports customization, virtual scrolling, and other great features.</p>
<p>You can view this code on <a href="https://github.com/lisovin/scalejs-examples/tree/grid-1/Grid">github</a>
or clone <a href="https://github.com/lisovin/scalejs-examples">scalejs-examples repository</a> and running the following command:</p>
<p><code>git checkout grid-1</code></p>
<p><br></p>
<h2 id="getting-the-grid-extension">Getting the Grid extension</h2>
<p>Install <strong>scalejs.grid-slick</strong> from NuGet to get the necessary files for the grid.
Included in these files are the CSS files needed for the grid to function, as well as a default theme.
You must add a link to these files in you index.html, index.debug.html, and index.release.html files 
for the grid to work. You can also modify <strong>slick-default-theme.css</strong> to create your own grid styles.
In our example we also included a global stylesheet to specify styles for the page.</p>
<h5 id="example-including-the-css-files-in-index-html">Example: Including the CSS files in index.html</h5>
<pre class="highlight"><code class="xml"><span class="hljs-doctype">&lt;!DOCTYPE html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">html</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">head</span>&gt;</span>
        !!*<span class="hljs-tag">&lt;<span class="hljs-title">link</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"css/slick/slick.grid.css"</span> <span class="hljs-attribute">rel</span>=<span class="hljs-value">"stylesheet"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text/css"</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">link</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"css/slick/slick-default-theme.css"</span> <span class="hljs-attribute">rel</span>=<span class="hljs-value">"stylesheet"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text/css"</span>/&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">link</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"css/global.css"</span> <span class="hljs-attribute">rel</span>=<span class="hljs-value">"stylesheet"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text/css"</span> /&gt;</span>**!
        <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"config.js"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text/javascript"</span>&gt;</span><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"Scripts/require.js"</span> <span class="hljs-attribute">data-main</span>=<span class="hljs-value">"app/app"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text/javascript"</span>&gt;</span><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">title</span>&gt;</span>Grid application (development version).<span class="hljs-tag">&lt;/<span class="hljs-title">title</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">body</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">html</span>&gt;</span>
</code></pre>
<p><br></p>
<h2 id="creating-a-grid">Creating a Grid</h2>
<p>Checkout the <a href="https://github.com/lisovin/scalejs-examples/tree/grid-1">grid-1</a> tag in order to view the code for this section. (or run <code>git checkout grid-1</code>)</p>
<p>In order to create a grid, you need 3 things: an element in the <strong>view</strong> to bind to, various <strong>bindings</strong>
to set the behavior of the control, and the <strong>viewmodel</strong> for your data, columns, and other grid features.
You also need to create some <strong>styles</strong> to determine how the grid looks, but that is less important.
The easiest out of these to code is the view, which in our example, is specified within main.html.</p>
<h5 id="example-the-view-for-our-grid-main-html-https-github-com-lisovin-scalejs-examples-blob-grid-1-grid-app-main-views-main-html-">Example: the view for our grid (<a href="https://github.com/lisovin/scalejs-examples/blob/grid-1/Grid/app/main/views/main.html">main.html</a>)</h5>
<pre class="highlight"><code class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"main_template"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"main grid"</span> <span class="hljs-attribute">data-class</span>=<span class="hljs-value">"main-grid"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
</code></pre>
<p>Here you can see we have given this element a <em>data-class</em> called <code>main-grid</code>. 
We will define this class in the <em>mainBindings.js</em> class as the following:</p>
<h5 id="example-the-bindings-for-our-grid-mainbindings-js-https-github-com-lisovin-scalejs-examples-blob-grid-1-grid-app-main-bindings-mainbindings-js-">Example: the bindings for our grid (<a href="https://github.com/lisovin/scalejs-examples/blob/grid-1/Grid/app/main/bindings/mainBindings.js">mainBindings.js</a>)</h5>
<pre class="highlight"><code class="javascript"><span class="hljs-comment">/*global define */</span>
<span class="hljs-comment">/*jslint sloppy: true*/</span>
define({
    <span class="hljs-string">'main-grid'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>
        <span class="hljs-keyword">return</span> {
            slickGrid: {
                columns: <span class="hljs-keyword">this</span>.columns,
                itemsSource: <span class="hljs-keyword">this</span>.itemsSource,
                enableColumnReorder: <span class="hljs-literal">false</span>,
                forceFitColumns: <span class="hljs-literal">true</span>,
                rowHeight: <span class="hljs-number">40</span>
            }
        };
    }
});
</code></pre>
<p><code>columns</code> is an array that specifies your columns. We will cover this in more detail in the viewmodel.</p>
<p><code>itemsSource</code> is also an array which specifies the data. This will also be covered in the viewmodel.</p>
<p><code>enableColumnReorder</code> must be set to false for now. It disables re-ordering of the columns via drag-and-drop.
This will be implemented in a later version of our extension, but for now you must <strong>explicitly</strong> set it to false.</p>
<p><code>forceFitColumns</code> is an optional parameter which tells the grid to expand its width to fit its parent&#39;s width.</p>
<p><code>rowHeight</code> is also an optional parameter which will specify the height of the rows in pixels.</p>
<p>For more options which can be passed to the slick grid, you can look at <a href="https://github.com/mleibman/SlickGrid/wiki/Grid-Options">slick-grid options</a>.</p>
<p>Now we need to specify the columns and itemsSource in the viewmodel.
For this section, we installed the <strong>scalejs.ajax-jquery</strong> extension as we recieve our data from an external source.
In this case, it is a file with a list of companies specified in JSON. You can get the file with the codesource.</p>
<h5 id="example-the-viewmodel-for-itemssource-and-columns-mainviewmodel-js-https-github-com-lisovin-scalejs-examples-blob-grid-1-grid-app-main-viewmodels-mainviewmodel-js-">Example: the viewmodel for itemsSource and columns (<a href="https://github.com/lisovin/scalejs-examples/blob/grid-1/Grid/app/main/viewmodels/mainViewModel.js">mainViewModel.js</a>)</h5>
<pre class="highlight"><code class="javascript"><span class="hljs-comment">/*global define */</span>
define([
    <span class="hljs-string">'sandbox!main'</span>
], <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(
    sandbox
)</span> {</span>
<span class="hljs-pi">    'use strict'</span>;

    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>
        <span class="hljs-keyword">var</span> <span class="hljs-comment">// imports</span>
            range = sandbox.linq.enumerable.range,
            observableArray = sandbox.mvvm.observableArray,
            ajaxGet = sandbox.ajax.jsonpGet,
            <span class="hljs-comment">// vars</span>
            columns,
            itemsSource = observableArray();

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">moneyFormatter</span><span class="hljs-params">(m)</span> {</span>
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">parseFloat</span>(m).toFixed(<span class="hljs-number">2</span>);
        }

        columns = [
            { id: <span class="hljs-string">"Symbol"</span>, field: <span class="hljs-string">"Symbol"</span>, name: <span class="hljs-string">"Symbol"</span>, minWidth: <span class="hljs-number">75</span> },
            { id: <span class="hljs-string">"Name"</span>, field: <span class="hljs-string">"Name"</span>, name: <span class="hljs-string">"Name"</span>, minWidth: <span class="hljs-number">300</span> },
            { id: <span class="hljs-string">"LastSale"</span>, field: <span class="hljs-string">"LastSale"</span>, name: <span class="hljs-string">"Last Sale"</span>, cssClass: <span class="hljs-string">"money"</span>, minWidth: <span class="hljs-number">100</span> },
            { id: <span class="hljs-string">"MarketCap"</span>, field: <span class="hljs-string">"MarketCap"</span>, name: <span class="hljs-string">"Market Cap"</span>, cssClass: <span class="hljs-string">"money"</span>, minWidth: <span class="hljs-number">150</span> },
            { id: <span class="hljs-string">"Sector"</span>, field: <span class="hljs-string">"Sector"</span>, name: <span class="hljs-string">"Sector"</span>, minWidth: <span class="hljs-number">150</span> },
            { id: <span class="hljs-string">"Industry"</span>, field: <span class="hljs-string">"industry"</span>, name: <span class="hljs-string">"Industry"</span>, minWidth: <span class="hljs-number">350</span>}];

        ajaxGet(<span class="hljs-string">'./companylist.txt'</span>, {}).subscribe(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(data)</span> {</span>
            itemsSource(<span class="hljs-built_in">JSON</span>.parse(data).map(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(company, index)</span> {</span>
                <span class="hljs-comment">// each item in itemsSource needs an index</span>
                company.index = index
                <span class="hljs-comment">// money formatter</span>
                company.LastSale = moneyFormatter(company.LastSale);
                company.MarketCap = moneyFormatter(company.MarketCap);
                <span class="hljs-keyword">return</span> company;
            }));
        });

        <span class="hljs-keyword">return</span> {
            columns: columns,
            itemsSource: itemsSource
        };
    };
});
</code></pre>
<p>In our viewmodel we can see that <code>columns</code> is an array of objects that contain three required properties: <code>id</code>, <code>field</code> and <code>name</code>.
<code>id</code> is a unique identifier, <code>field</code> is the name of the property that is used by itemsSource,
and <code>name</code> is the name of the column in the view.
Each column may also contain optional properties, such as <code>minWidth</code> (which sets the minimum width for the column in pixels)
and <code>cssClass</code> (which gives that column a class). <code>cssClass</code> is used to give the money columns <code>text-align: right</code>. </p>
<p>We can also see that our itemsSource can be taken straight from the external source with only a slight modification.
This is because each item in the array has properties (keys) which map to the field of the column. 
Each item contains (at least) the following properties: Symbol, Name, LastSale, MarketCap, Sector, and Industry.
Also note since we are using JavaScript that it is case sensitive. The only modification our ViewModel makes to the data from the source
is parsing the number for the <em>LastSale</em> and <em>MarketCap</em> columns and giving it a fixed number of decimal places.</p>
<p>One thing which might be weird but is also <strong>required</strong> for your grid to work is giving each item in itemsSource an index.
This index is leveraged in sorting, and allows the grid to maintain the order of the rows even as new data is added
and removed. This is why you must set an initial index of each item which can be done easily using <code>map</code>. </p>
<p>Once you add <a href="./grid1.html#styles">styles</a> your grid will look like this:</p>
<div id="grid1" style="width:100%;height:600px"></div>

<h3 id="styles">Styles</h3>
<p>After implementing the code snippets above you might want to make your grid look nice.
In order to do this make sure to grab the <a href="https://github.com/lisovin/scalejs-examples/blob/grid-1/Grid/css/global.css">global styles</a>
and the <a href="https://github.com/lisovin/scalejs-examples/blob/grid-1/Grid/app/main/styles/main.less">main.less</a> file. 
You might also want to include the <a href="https://github.com/lisovin/scalejs-examples/tree/grid-1/Grid/fonts">fonts</a> we are using.</p>
<p>In our grid styles, we specified the height of the grid to be 100%. 
A set height is required (or 100%), otherwise, the grid component wont know how many rows to show, and it wont utilize row virtualization.</p>

	    </div>

  </div>
</div>
    
</body>
</html>