define("scalejs",[],function(){var a;return{load:function(b,c,d,e){var f;"extensions"===b?e.scalejs&&e.scalejs.extensions?(a=e.scalejs.extensions,c(a,function(){d(Array.prototype.slice(arguments))})):c(["scalejs.extensions"],function(){d(Array.prototype.slice(arguments))},function(){d([])}):0===b.indexOf("application")?(f=b.substring("application".length+1).match(/([^,]+)/g)||[],f=f.map(function(a){return-1===a.indexOf("/")?"app/"+a+"/"+a+"Module":a}),f.push("scalejs.application"),c(["scalejs!extensions"],function(){c(f,function(){var a=arguments[arguments.length-1],b=Array.prototype.slice.call(arguments,0,arguments.length-1);e.isBuild||a.registerModules.apply(null,b),d(a)})})):c(["scalejs."+b],function(a){d(a)})},write:function(b,c,d){"scalejs"===b&&0===c.indexOf("application")&&d('define("scalejs.extensions", '+JSON.stringify(a)+", function () { return Array.prototype.slice(arguments); })")}}}),define("scalejs.base.type",[],function(){function a(a){if(void 0===a)return"undefined";if(null===a)return"null";var b,c=Object.prototype.toString.call(a).match(/\s([a-z|A-Z]+)/)[1].toLowerCase();return"object"!==c?c:(b=a.constructor.toString().match(/^function\s*([$A-Z_][0-9A-Z_$]*)/i),null===b?"object":b[1])}function b(a){var c,d,e,f,g=void 0,h=arguments.length,i=h-1,j=a;if(0===h)return!1;if(1===h)return null!==a&&a!==g;if(h>2)for(c=0;i-1>c;c+=1){if(!b(j))return!1;j=j[arguments[c+1]]}return d=arguments[i],null===j?null===d||"null"===d:j===g?d===g||"undefined"===d:""===d?j===d:(e=typeof d,"string"===e?(f=Object.prototype.toString.call(j).slice(8,-1).toLowerCase(),f===d):"function"===e?j instanceof d:j===d)}return{is:b,typeOf:a}}),define("scalejs.base.object",["./scalejs.base.type"],function(a){function b(a){var b,c,d,e=a;if(!j(e))return!1;for(b=1,c=arguments.length;c>b;b+=1)if(d=arguments[b],e=e[d],!j(e))return!1;return!0}function c(a,d){var e;for(e in d)d.hasOwnProperty(e)&&(a[e]=b(d,e)&&b(a,e)&&d[e].constructor===Object?c(a[e],d[e]):d[e]);return a}function d(){var a,b=arguments,d=b.length,e={};for(a=0;d>a;a+=1)c(e,b[a]);return e}function e(a){return d(a)}function f(a,d,e){var f,g=b(e)?e.split("."):[],h=a;for(f=0;f<g.length;f+=1)b(h,g[f])||(h[g[f]]={}),h=h[g[f]];return c(h,d),h}function g(a,c,d){var e,f,g=c.split("."),h=!0;for(e=0;e<g.length;e+=1){if(f=g[e],!b(a,f)){h=!1;break}a=a[f]}return h?a:d}function h(a,c){return b(a)?a:c}function i(a){var b=[];return JSON.stringify(a,function(a,c){if("object"==typeof c&&null!==c){if(-1!==b.indexOf(c))return"[Circular]";b.push(c)}return c})}var j=a.is;return{has:b,valueOrDefault:h,merge:d,extend:f,clone:e,get:g,stringify:i}}),define("scalejs.base.array",["./scalejs.base.object"],function(a){function b(a,b){a.indexOf(b)<0&&a.push(b)}function c(a,b){var c=a.indexOf(b);c>-1&&a.splice(c,1)}function d(a){a.splice(0,a.length)}function e(a,b,c){return b=h(b,0),c=h(c,a.length),Array.prototype.slice.call(a,b,c)}function f(a,b,c){var d,e;for(d=0,e=a.length;e>d;d+=1)if(a.hasOwnProperty(d)&&b.call(c,a[d],d,a))return a[d];return null}function g(a,b,c){return e(a,b,c)}var h=a.valueOrDefault;return{addOne:b,removeOne:c,removeAll:d,copy:e,find:f,toArray:g}}),define("scalejs.base.log",["./scalejs.base.object"],function(a){function b(b){return function(){var c,f;c=Array.prototype.slice.call(arguments,0),e?(f=b+" ",c.forEach(function(b){f+=a.stringify(b)+" "}),c=[f]):c.unshift(b),d.apply(this,arguments)}}function c(a){var b=a.stack?String(a.stack):"",c=a.message||"";return"Error: "+c+"\nStack: "+b}var d=Function.prototype.call.bind(console.log,console),e=navigator.userAgent.indexOf("MSIE")>0||navigator.userAgent.indexOf("Trident")>0;return{log:b("      "),info:b("info: "),error:b("error:"),warn:b("warn: "),debug:b("debug:"),formatException:c}}),define("scalejs.base",["./scalejs.base.array","./scalejs.base.log","./scalejs.base.object","./scalejs.base.type"],function(a,b,c,d){return{type:d,object:c,array:a,log:b}}),define("scalejs.core",["./scalejs.base"],function(a){function b(a){try{var b;if(h(a,"buildCore","function"))return a.buildCore(l),void j(m,a);b=h(a,"function")?a(l):g(a,"core")?a.core:a,b&&(i(l,b),j(m,a))}catch(c){k("Fatal error during application initialization. ",'Failed to build core with extension "',a,"See following exception for more details.",c)}}function c(a){if(!g(a))throw new Error("Sandbox name is required to build a sandbox.");var b={type:l.type,object:l.object,array:l.array,log:l.log};return m.forEach(function(a){try{h(a,"buildSandbox","function")?a.buildSandbox(b):g(a,"sandbox")?i(b,a.sandbox):i(b,a)}catch(c){throw k("Fatal error during application initialization. ",'Failed to build sandbox with extension "',a,"See following exception for more details.",c),c}}),b}function d(a){n.push(a)}function e(){o||(o=!0,n.forEach(function(a){a("started")}))}function f(){o&&(o=!1,n.forEach(function(a){a("stopped")}))}var g=a.object.has,h=a.type.is,i=a.object.extend,j=a.array.addOne,k=a.log.error,l={},m=[],n=[],o=!1;return Object.defineProperty(l,"STARTED",{value:"started",writable:!1}),Object.defineProperty(l,"STOPPED",{value:"stopped",writable:!1}),i(l,{type:a.type,object:a.object,array:a.array,log:a.log,buildSandbox:c,notifyApplicationStarted:e,notifyApplicationStopped:f,onApplicationEvent:d,registerExtension:b,isApplicationRunning:function(){return o}})}),define("scalejs.application",["scalejs!core"],function(a){function b(){if(a.isApplicationRunning())throw new Error("Can't register module since the application is already running.","Dynamic module loading is not supported.");Array.prototype.push.apply(m,j(arguments).filter(function(a){return a}))}function c(a){var b,c;if("function"==typeof a)try{b=a()}catch(d){c=a.getId?a.getId():a.name,k('Failed to create an instance of module "'+c+'".',"Application will continue running without the module. See following exception stack for more details.",d.stack)}else b=a;return i(n,b),b}function d(){m.forEach(c)}function e(){l("Application started."),a.notifyApplicationStarted()}function f(){l("Application exited."),a.notifyApplicationStopped()}function g(){d(),e()}function h(){f()}var i=a.array.addOne,j=a.array.toArray,k=a.log.error,l=a.log.debug,m=[],n=[];return{registerModules:b,run:g,exit:h}}),define("scalejs.sandbox",[],function(){return{load:function(a,b,c,d){b(["scalejs!core","scalejs!extensions"],function(b){if(d.isBuild)c();else{var e=b.buildSandbox(a);c(e)}})}}});